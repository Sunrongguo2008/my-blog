
[{"content":"è¿™æ˜¯ä¸€ä¸ªå±•ç¤ºæ‰€æœ‰ Markdown è¯­æ³•çš„ç»¼åˆæ–‡æ¡£ã€‚\næ ‡é¢˜è¯­æ³• # ä¸‰çº§æ ‡é¢˜ # å››çº§æ ‡é¢˜ # äº”çº§æ ‡é¢˜ # å…­çº§æ ‡é¢˜ # æ–‡æœ¬æ ¼å¼ # è¿™æ˜¯ç²—ä½“æ–‡æœ¬ï¼Œè¿™æ˜¯_æ–œä½“æ–‡æœ¬_ï¼Œè¿™æ˜¯_ç²—æ–œä½“æ–‡æœ¬_ã€‚\nè¿™æ˜¯åˆ é™¤çº¿æ–‡æœ¬ã€‚\nè¿™æ˜¯è¡Œå†…ä»£ç ç¤ºä¾‹ã€‚\nè¿™æ˜¯ä¸€ä¸ªå¼•ç”¨å—\nå¯ä»¥åŒ…å«å¤šè¡Œå†…å®¹\nä¹Ÿå¯ä»¥åµŒå¥—å¼•ç”¨\nåˆ—è¡¨ # æ— åºåˆ—è¡¨ # ç¬¬ä¸€é¡¹ ç¬¬äºŒé¡¹ åµŒå¥—é¡¹ 2.1 åµŒå¥—é¡¹ 2.2 æ›´æ·±å±‚åµŒå¥— 2.2.1 ç¬¬ä¸‰é¡¹ æœ‰åºåˆ—è¡¨ # ç¬¬ä¸€æ­¥ ç¬¬äºŒæ­¥ å­æ­¥éª¤ 2.1 å­æ­¥éª¤ 2.2 ç¬¬ä¸‰æ­¥ ä»»åŠ¡åˆ—è¡¨ # å·²å®Œæˆä»»åŠ¡ æœªå®Œæˆä»»åŠ¡ å¦ä¸€ä¸ªå¾…åŠäº‹é¡¹ é“¾æ¥å’Œå›¾ç‰‡ # è¿™æ˜¯ä¸€ä¸ªé“¾æ¥\nå¸¦æ ‡é¢˜çš„é“¾æ¥\nhttps://example.com\nå›¾ç‰‡æ ‡é¢˜ ä»£ç å— # Python ä»£ç  # def hello_world(): \u0026#34;\u0026#34;\u0026#34;ç¤ºä¾‹å‡½æ•°\u0026#34;\u0026#34;\u0026#34; print(\u0026#34;Hello, World!\u0026#34;) return True if __name__ == \u0026#34;__main__\u0026#34;: hello_world() Bash ä»£ç  # #!/bin/bash echo \u0026#34;Hello from Bash\u0026#34; ls -la | grep \u0026#34;.md\u0026#34; æ— è¯­æ³•é«˜äº® # çº¯æ–‡æœ¬ä»£ç å— æ²¡æœ‰è¯­æ³•é«˜äº® è¡¨æ ¼ # å·¦å¯¹é½ å±…ä¸­å¯¹é½ å³å¯¹é½ å•å…ƒæ ¼1 å•å…ƒæ ¼2 å•å…ƒæ ¼3 æ•°æ®A æ•°æ®B æ•°æ®C ç²—ä½“ æ–œä½“ ä»£ç  åˆ†éš”çº¿ # ä½¿ç”¨ä¸‰ä¸ªæˆ–æ›´å¤šçš„æ˜Ÿå·ã€å‡å·æˆ–ä¸‹åˆ’çº¿ï¼š\nHTML å…ƒç´  # Markdown æ”¯æŒå†…è” HTMLï¼š\nç‚¹å‡»å±•å¼€è¯¦æƒ… è¿™æ˜¯æŠ˜å çš„å†…å®¹ã€‚\nå¯ä»¥åŒ…å«Markdownæ ¼å¼ã€‚\nCtrl + C\né«˜äº®æ–‡æœ¬ï¼ˆéƒ¨åˆ†æ¸²æŸ“å™¨æ”¯æŒï¼‰\nè„šæ³¨ # è¿™æ˜¯ä¸€ä¸ªå¸¦è„šæ³¨çš„å¥å­^1ã€‚\nè¿™æ˜¯å¦ä¸€ä¸ªè„šæ³¨^noteã€‚\nè½¬ä¹‰å­—ç¬¦ # ä½¿ç”¨åæ–œæ è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼š\nè¿™ä¸æ˜¯æ–œä½“\nè¿™ä¸æ˜¯æ ‡é¢˜ # [è¿™ä¸æ˜¯é“¾æ¥]\nç‰¹æ®ŠåŠŸèƒ½ # æ•°å­¦å…¬å¼ï¼ˆå¦‚æœæ¸²æŸ“å™¨æ”¯æŒï¼‰ # è¡Œå†…å…¬å¼ï¼š$E = mc^2$\nå—çº§å…¬å¼ï¼š\n$$ \\int_{0}^{\\infty} e^{-x^2} dx = \\frac{\\sqrt{\\pi}}{2} $$ Emojiï¼ˆéƒ¨åˆ†æ¸²æŸ“å™¨æ”¯æŒï¼‰ # \u0026#x1f604; \u0026#x2764;\u0026#xfe0f; \u0026#x1f680; \u0026#x1f4bb;\nç¼©å†™ï¼ˆéƒ¨åˆ†æ¸²æŸ“å™¨æ”¯æŒï¼‰ # HTML æ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ã€‚\n*[HTML]: Hyper Text Markup Language\nç»„åˆç¤ºä¾‹ # å¼•ç”¨ä¸­çš„æ ‡é¢˜ # åœ¨å¼•ç”¨å—ä¸­å¯ä»¥ä½¿ç”¨ï¼š\nåˆ—è¡¨ æ ¼å¼åŒ–æ–‡æœ¬ ä»£ç  # ç”šè‡³ä»£ç å— print(\u0026#34;åœ¨å¼•ç”¨ä¸­\u0026#34;) åˆ— 1 åˆ— 2 è¡¨æ ¼ ä¹Ÿè¡Œ ç»“è¯­ # è¿™ä¸ªæ–‡æ¡£å±•ç¤ºäº†å¤§å¤šæ•° Markdown è¯­æ³•ç‰¹æ€§ã€‚ä¸åŒçš„ Markdown æ¸²æŸ“å™¨å¯èƒ½æ”¯æŒçš„ç‰¹æ€§ç•¥æœ‰å·®å¼‚ã€‚\næ–‡æ¡£ç»“æŸ ğŸ‰\n","date":"2025-10-2","externalUrl":null,"permalink":"/posts/hello-world/","section":"Posts","summary":"","title":"Hello World","type":"posts"},{"content":"","date":"2025-10-2","externalUrl":null,"permalink":"/posts/","section":"Posts","summary":"","title":"Posts","type":"posts"},{"content":"","date":"2025-10-2","externalUrl":null,"permalink":"/","section":"Sunong2008's Blog","summary":"","title":"Sunong2008's Blog","type":"page"},{"content":"","date":"2025-10-2","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":"","date":"2025-10-2","externalUrl":null,"permalink":"/tags/test/","section":"Tags","summary":"","title":"Test","type":"tags"},{"content":"","date":"2025-10-2","externalUrl":null,"permalink":"/tags/%E6%B5%8B%E8%AF%95/","section":"Tags","summary":"","title":"æµ‹è¯•","type":"tags"},{"content":"","date":"2025-8-11","externalUrl":null,"permalink":"/tags/linux/","section":"Tags","summary":"","title":"Linux","type":"tags"},{"content":"åœ¨ Arch Linux ä¸­æ–‡è®ºå›è¯¢é—®ï¼Œæœ‰äººè¯´ï¼šæ ¹æ®ArchWikiï¼Œéœ€è¦å®‰è£… libvpl å’Œ vpl-gpu-rt\nsudo pacman -S libvpl sudo pacman -S vpl-gpu-rt è§£å†³ï¼\n","date":"2025-8-11","externalUrl":null,"permalink":"/posts/obs-%E6%97%A0%E6%B3%95%E8%B0%83%E7%94%A8intel%E7%9A%84qsvarch/","section":"Posts","summary":"","title":"OBS æ— æ³•è°ƒç”¨intelçš„qsvï¼ˆArchï¼‰","type":"posts"},{"content":"","date":"2025-8-9","externalUrl":null,"permalink":"/tags/blog/","section":"Tags","summary":"","title":"Blog","type":"tags"},{"content":"æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªçš„ Linux å¯åŠ¨é—®é¢˜ï¼šæ˜æ˜è®¾ç½®äº†å¼€æœºè‡ªå¯åŠ¨çš„åº”ç”¨ç¨‹åºï¼Œç»“æœæ¯æ¬¡å¼€æœºåéƒ½æ²¡è¿è¡Œèµ·æ¥ã€‚æ‰‹åŠ¨å¯åŠ¨æ˜¯æ­£å¸¸çš„ï¼Œä½†å°±æ˜¯è‡ªåŠ¨å¯åŠ¨å¤±æ•ˆã€‚\nå‘ç°é—®é¢˜ï¼šåº”ç”¨ç¨‹åºå¯åŠ¨ä¸äº† # ç—‡çŠ¶ # æˆ‘å¼€æœºè¿›å…¥æ¡Œé¢åå‘ç°ï¼š\nABDownloadManager æ²¡æœ‰è‡ªåŠ¨å¯åŠ¨ Notification_monitor è„šæœ¬ä¹Ÿæ²¡è¿è¡Œ è¿™äº›åº”ç”¨éƒ½æ”¾åœ¨å¤–æ¥çš„ SSD ä¸Šï¼ˆè·¯å¾„æ˜¯ /run/media/s/SSD/...ï¼‰ å¥‡æ€ªçš„æ˜¯ï¼Œæ‰‹åŠ¨åŒå‡»æˆ–è€…å‘½ä»¤è¡Œè¿è¡Œéƒ½æ˜¯æ­£å¸¸çš„ äºŒã€åˆ†æé—®é¢˜ # æŸ¥çœ‹å¯åŠ¨æ—¥å¿— # journalctl -b -e è¿™ä¸ªå‘½ä»¤ä¼šæ˜¾ç¤ºæœ¬æ¬¡å¯åŠ¨çš„æ—¥å¿—ï¼Œ-e å‚æ•°ç›´æ¥è·³åˆ°æœ€åé¢ï¼Œæ–¹ä¾¿æŸ¥çœ‹æœ€æ–°çš„ä¿¡æ¯ã€‚\nåœ¨æ—¥å¿—ä¸­æ‰¾åˆ°äº†è¿™äº›å…³é”®ä¿¡æ¯ï¼š\n8æœˆ 09 11:54:56 s-pc systemd-xdg-autostart-generator[893]: Exec binary \u0026#39;/run/media/s/SSD/Linux_Tools/ABDownloadManager/bin/ABDownloadManager\u0026#39; does not exist: No such file or directory 8æœˆ 09 11:54:56 s-pc systemd-xdg-autostart-generator[893]: /home/s/.config/autostart/com.abdownloadmanager.desktop: not generating unit, executable specified in Exec= does not exist. 8æœˆ 09 11:54:58 s-pc udisksd[951]: **Mounted /dev/nvme0n1p4 at /run/media/s/SSD on behalf of uid 1000** 11:54:56 - ç³»ç»Ÿå°è¯•å¯åŠ¨åº”ç”¨ï¼Œå‘ç°è·¯å¾„ä¸å­˜åœ¨ 11:54:58 - udisksd å®Œæˆ SSD æŒ‚è½½ï¼Œåº”ç”¨å¯åŠ¨éœ€è¦çš„è·¯å¾„è¢«åˆ›å»º æ‰¾åˆ°åŸå› äº† # ç³»ç»Ÿæƒ³å¯åŠ¨åº”ç”¨æ—¶ï¼ŒSSD è¿˜æ²¡æŒ‚è½½å¥½ï¼Œè·¯å¾„ä¸å­˜åœ¨ï¼Œå¯åŠ¨å¤±è´¥ã€‚\nè§£å†³æ–¹æ¡ˆ # æ–¹æ³•ä¸€ï¼šfstab è‡ªåŠ¨æŒ‚è½½ # è®© SSD å¼€æœºå°±æŒ‚è½½ # è¿™ä¸ª SSD æ¯å¤©éƒ½è¦ç”¨ï¼Œä¸å¦‚è®©å®ƒå¼€æœºå°±è‡ªåŠ¨æŒ‚è½½ã€‚è¿™æ ·å°±èƒ½æå‰è§£å†³æŒ‚è½½é—®é¢˜ï¼Œè€Œä¸æ˜¯ç­‰å¾…æŒ‚è½½å®Œæˆã€‚\nç®€å•é…ç½® # é¦–å…ˆè·å– SSD çš„ UUIDï¼š\nsudo blkid /dev/nvme0n1p4 è¾“å‡ºç±»ä¼¼ï¼š\n/dev/nvme0n1p4: LABEL=\u0026#34;SSD\u0026#34; BLOCK_SIZE=\u0026#34;512\u0026#34; UUID=\u0026#34;9FAB0FC4562CB861\u0026#34; TYPE=\u0026#34;ntfs\u0026#34; PARTLABEL=\u0026#34;Basic data partition\u0026#34; PARTUUID=\u0026#34;af50b57f-7ccb-42bb-a3b5-7256ef6e3933\u0026#34; å®‰è£… ntfs-3 gï¼š\nsudo pacman -S ntfs-3g ç„¶åç¼–è¾‘ fstabï¼š\nsudo nano /etc/fstab åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼š\nUUID=9FAB0FC4562CB861 /run/media/s/SSD ntfs-3g defaults,uid=1000,gid=1000,windows_names,nofail 0 0 systemctl daemon-reload é…ç½®å®Œæˆåï¼Œé‡å¯ç³»ç»Ÿï¼ŒSSD å°±ä¼šåœ¨å¼€æœºæ—¶è‡ªåŠ¨æŒ‚è½½ï¼Œautostart ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œäº†ã€‚\næ–¹æ³•äºŒï¼šåˆ›å»º systemd ç”¨æˆ·æœåŠ¡ # è¿™ä¸ªæ–¹æ³•æœ‰ä¸ªç¼ºç‚¹ï¼šå¾ˆå¤šåº”ç”¨è‡ªå¸¦çš„å¼€æœºè‡ªå¯å¹¶ä¸æ˜¯åˆ›å»º systemd ç”¨æˆ·æœåŠ¡çš„æ–¹æ¡ˆï¼Œéœ€è¦å¯¹æ¯ä¸ªåº”ç”¨è¿›è¡Œä¿®æ”¹\nè€Œä¸”ä»¥ä¸‹å†…å®¹ç”± AIï¼ˆClaudeï¼‰æ’°å†™ï¼Œæˆ‘ä¹Ÿæ²¡è¯•è¿‡ï¼Œä¸çŸ¥é“æ˜¯å¦å¯è¡Œ\nSystemd ç‰¹ç‚¹ # ä¼ ç»Ÿçš„ autostart æœºåˆ¶æ¯”è¾ƒ\u0026quot;æ­»æ¿\u0026quot;ï¼šåˆ°æ—¶é—´å°±å¯åŠ¨ï¼Œä¸ç®¡æ¡ä»¶æ˜¯å¦æ»¡è¶³ã€‚è€Œ systemd æœåŠ¡æ›´æ™ºèƒ½ï¼Œå¯ä»¥\u0026quot;ç­‰æ¡ä»¶æ»¡è¶³å†å¯åŠ¨\u0026quot;ã€‚\nå…³é”®æ˜¯ ExecStartPre æŒ‡ä»¤ï¼Œå®ƒè®©ç¨‹åºåœ¨å¯åŠ¨å‰å…ˆæ‰§è¡Œä¸€ä¸ªé¢„æ£€æŸ¥è„šæœ¬ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥ä¸»åŠ¨ç­‰å¾…æŒ‚è½½å®Œæˆï¼š\nExecStartPre=/bin/bash -c \u0026#39;while [ ! -d \u0026#34;/run/media/s/SSD\u0026#34; ]; do sleep 1; done\u0026#39; è¿™è¡Œä»£ç çš„æ„æ€æ˜¯ï¼šä¸æ–­æ£€æŸ¥ SSD æŒ‚è½½ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨å°±ç­‰ 1 ç§’å†æ£€æŸ¥ï¼Œç›´åˆ°ç›®å½•å­˜åœ¨æ‰ç»§ç»­æ‰§è¡Œä¸»ç¨‹åºã€‚\nåˆ›å»ºæœåŠ¡é…ç½® # ä»¥ ABDownloadManager ä¸ºä¾‹ï¼Œåˆ›å»º systemd ç”¨æˆ·æœåŠ¡ï¼š\n# åˆ›å»ºæœåŠ¡ç›®å½• mkdir -p ~/.config/systemd/user # åˆ›å»ºæœåŠ¡é…ç½®æ–‡ä»¶ cat \u0026gt; ~/.config/systemd/user/abdownloadmanager.service \u0026lt;\u0026lt; EOF [Unit] Description=AB Download Manager After=graphical-session.target Wants=graphical-session.target [Service] Type=simple ExecStartPre=/bin/bash -c \u0026#39;while [ ! -d \u0026#34;/run/media/s/SSD\u0026#34; ]; do sleep 1; done\u0026#39; ExecStart=/run/media/s/SSD/Linux_Tools/ABDownloadManager/bin/ABDownloadManager Restart=on-failure RestartSec=5 [Install] WantedBy=default.target EOF é…ç½®è¯´æ˜ï¼š\nâ€‹ After=graphical-session.targetï¼šç¡®ä¿åœ¨å›¾å½¢ç•Œé¢å‡†å¤‡å¥½åå†å¯åŠ¨ â€‹ ExecStartPreï¼šå¯åŠ¨å‰ç­‰å¾…æŒ‚è½½å®Œæˆ â€‹ Restart=on-failureï¼šå¦‚æœç¨‹åºå´©æºƒä¼šè‡ªåŠ¨é‡å¯ â€‹ RestartSec=5ï¼šé‡å¯å‰ç­‰å¾… 5ç§’ åŒæ ·ä¸º notification_monitor åˆ›å»ºæœåŠ¡ï¼š\ncat \u0026gt; ~/.config/systemd/user/notification_monitor.service \u0026lt;\u0026lt; EOF [Unit] Description=Notification Monitor After=graphical-session.target Wants=graphical-session.target [Service] Type=simple ExecStartPre=/bin/bash -c \u0026#39;while [ ! -d \u0026#34;/run/media/s/SSD\u0026#34; ]; do sleep 1; done\u0026#39; ExecStart=/run/media/s/SSD/Linux_Tools/notification_monitor/notification_monitor.sh Restart=on-failure RestartSec=5 [Install] WantedBy=default.target EOF éƒ¨ç½²æ­¥éª¤ # é‡è½½ systemd é…ç½®ï¼š\nsystemctl --user daemon-reload å¯ç”¨æœåŠ¡ï¼š\nsystemctl --user enable abdownloadmanager.service systemctl --user enable notification_monitor.service æ¸…ç†æ—§çš„ autostart é…ç½®ï¼š\nrm ~/.config/autostart/com.abdownloadmanager.desktop rm ~/.config/autostart/notification_monitor.sh.desktop æµ‹è¯•æ•ˆæœï¼ˆå¯é€‰ï¼‰ï¼š\n# ç«‹å³å¯åŠ¨æµ‹è¯• systemctl --user start abdownloadmanager.service # æŸ¥çœ‹æœåŠ¡çŠ¶æ€ systemctl --user status abdownloadmanager.service # æŸ¥çœ‹æœåŠ¡æ—¥å¿— journalctl --user -u abdownloadmanager.service -f é‡å¯ç³»ç»Ÿåï¼Œåº”ç”¨ç¨‹åºå°±èƒ½æ­£å¸¸è‡ªå¯åŠ¨äº†ã€‚\n","date":"2025-8-9","externalUrl":null,"permalink":"/posts/linux%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%97%A0%E6%B3%95%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8F%AF%E8%83%BD%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","section":"Posts","summary":"","title":"linuxåº”ç”¨ç¨‹åºæ— æ³•å¼€æœºè‡ªå¯å¯èƒ½çš„è§£å†³æ–¹æ¡ˆ","type":"posts"},{"content":"åœ¨ btrfs ä¸‹ï¼Œåˆ›å»º swap æ–‡ä»¶è€Œä¸æ˜¯ swap åˆ†åŒºæ—¶ï¼š\næŠŠ swap æ–‡ä»¶æ”¾åˆ°â€‹ â€‹ /swap â€‹â€‹å­å·ä¸­ï¼š å› ä¸º timeshift ä¸ä¼šå¤‡ä»½ /swap å­å·ï¼Œå¯¼è‡´æ¢å¤å¿«ç…§æ—¶ï¼Œswap æ–‡ä»¶ /swap/swapfile ä¼šæ¶ˆå¤±\nä¸æŠŠ swap æ–‡ä»¶æ”¾åˆ°å­å·ä¸­ï¼š timeshift å¤‡ä»½æ—¶ï¼Œswapfile è¢«å†…æ ¸ä½¿ç”¨ï¼Œä¼šå¯¼è‡´ E: ERROR: Could not create subvolume: Text file busyï¼Œå¯¼è‡´æ— æ³•åˆ›å»ºå¿«ç…§ï¼Œå‡ºç°è¿™ä¸ªæƒ…å†µ\næ‰€ä»¥ï¼Œæœ€ä½³å®è·µå¯èƒ½æ˜¯åˆ›å»º swap åˆ†åŒºè€Œä¸æ˜¯swap æ–‡ä»¶ (å‚è€ƒæ¥æº)\næˆ–è€…ä»ç„¶æŠŠ swap æ–‡ä»¶æ”¾åˆ°â€‹ â€‹ /swap â€‹â€‹å­å·ä¸­ï¼Œtimeshift æ¢å¤å¿«ç…§åï¼Œæ‰‹åŠ¨æŠŠ /swap ç›®å½•åˆ æ‰ã€æŠŠåŸæ¥çš„ /swap å­å·ç§»åŠ¨è¿‡æ¥\nâ€\n","date":"2025-8-9","externalUrl":null,"permalink":"/posts/%E5%85%B3%E4%BA%8Etimeshift%E5%92%8Cswap%E7%9A%84%E6%81%A9%E6%80%A8%E9%97%AE%E9%A2%98/","section":"Posts","summary":"","title":"å…³äºtimeshiftå’Œswapçš„æ©æ€¨é—®é¢˜","type":"posts"},{"content":" 1. åŸå›  # è‹±é›„åœ¨è¿™é‡Œ\nbtrfs æ–‡ä»¶ç³»ç»Ÿç© swapfileï¼Œå¦‚æœè¿˜æƒ³ç”¨ timeshift æˆ–è€… snapper å¤‡ä»½å¿«ç…§ï¼Œå°±å¿…é¡»æŠŠ swap æ–‡ä»¶æ”¾åˆ°ä¸éœ€è¦å¤‡ä»½çš„å­å·é‡Œé¢ï¼ˆæ¯”å¦‚åˆ›å»º @swap å­å·ï¼‰ã€‚ ä¸ç„¶çš„è¯ï¼Œå¦‚æœç›´æ¥æ”¾åœ¨éœ€è¦å¿«ç…§çš„å­å·ï¼Œä¼šåœ¨åˆ›å»ºå¿«ç…§çš„æ—¶å€™ä¼šå¤±è´¥ï¼ˆæç¤ºè®¾å¤‡æ­£åœ¨è¢«å†™å…¥å•¥çš„/ åœ¨ timeshift GUI ä¸Šä¸æ˜¾ç¤ºåˆ›å»ºçš„å¿«ç…§ï¼‰ è¦æ˜¯åƒæˆ‘ä¸€æ ·ï¼Œå“ªå¤©éœ€è¦æ¢å¤å¿«ç…§äº†ï¼Œçªç„¶å‘ç°ä¸€ä¸ªå¿«ç…§éƒ½æ²¡å»ºå‡ºæ¥å°±æç¬‘äº†\u0026hellip;\u0026hellip;\næ‰€ä»¥éœ€è¦æŠŠ swapfile æ”¾åˆ°@swap å­å·é‡Œé¢\n2. è§£å†³æ–¹æ¡ˆ # âš ï¸æ³¨æ„ï¼š\nåœ¨ btrfs ä¸‹ï¼Œåˆ›å»ºswap æ–‡ä»¶è€Œä¸æ˜¯ swap åˆ†åŒºæ—¶ï¼š\næŠŠ swap æ–‡ä»¶æ”¾åˆ°â€‹ â€‹ /swap â€‹â€‹å­å·ä¸­ï¼š å› ä¸º timeshift ä¸ä¼šå¤‡ä»½ /swap å­å·ï¼Œå¯¼è‡´æ¢å¤å¿«ç…§æ—¶ï¼Œswap æ–‡ä»¶ /swap/swapfile ä¼šæ¶ˆå¤±\nä¸æŠŠ swap æ–‡ä»¶æ”¾åˆ°å­å·ä¸­ï¼š timeshift å¤‡ä»½æ—¶ï¼Œswapfile è¢«å†…æ ¸ä½¿ç”¨ï¼Œä¼šå¯¼è‡´ E: ERROR: Could not create subvolume: Text file busyï¼Œå¯¼è‡´æ— æ³•åˆ›å»ºå¿«ç…§ (å‚è€ƒæ¥æº)\næœ€ä½³å®è·µå¯èƒ½æ˜¯åˆ›å»º swap åˆ†åŒºè€Œä¸æ˜¯swap æ–‡ä»¶\næˆ–è€…ä»ç„¶æŠŠ swap æ–‡ä»¶æ”¾åˆ°â€‹ â€‹ /swap â€‹â€‹å­å·ä¸­ï¼Œtimeshift æ¢å¤å¿«ç…§åï¼Œæ‰‹åŠ¨æŠŠ /swap ç›®å½•åˆ æ‰ã€æŠŠåŸæ¥çš„ /swap å­å·ç§»åŠ¨è¿‡æ¥\nä»¥ä¸‹æ˜¯åˆ›å»º swap æ–‡ä»¶+æŠŠ swap æ–‡ä»¶æ”¾åˆ°â€‹ â€‹ /swap â€‹â€‹å­å·ä¸­çš„æ–¹æ¡ˆï¼ˆåˆ›å»º swap åˆ†åŒºçš„æ–¹æ³•ç½‘ä¸Šä¸€æœä¸€å¤§æŠŠï¼Œå°±ä¸å†™äº†ï¼‰ï¼š\n2.1 åˆ›å»ºäº¤æ¢ç©ºé—´ï¼ˆè®¾ç½®å­å·ï¼‰ # # åˆ›å»ºäº¤æ¢å­å·ï¼Œä½ç½®æ˜¯/swapï¼ˆå…¶ä»–ä½ç½®ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ä¸‹é¢çš„éƒ½å¾—æ¢æ‰ï¼‰ sudo btrfs subvolume create /swap # è¿›å…¥äº¤æ¢å­å·ç›®å½• cd /swap # åˆ›å»ºä¸€ä¸ª0å¤§å°çš„æ–‡ä»¶ sudo truncate -s 0 /swap/swapfile # è®¾ç½®No_COWå±æ€§ sudo chattr +C swapfile # ç¦ç”¨å‹ç¼© sudo btrfs property set swapfile compression none ERROR: failed to set compression for swapfile: Invalid argument #ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä¸è¿‡ä¸å½±å“ # å°†æ–‡ä»¶å¡«å……ã€æ‰©å®¹ sudo dd if=/dev/zero of=/swap/swapfile bs=1G count=6 # è®¾ç½®swapfileæƒé™ sudo chmod 600 swapfile # æ ¼å¼åŒ–swapfile sudo mkswap swapfile # å¯ç”¨swapfile sudo swapon swapfile 2.2 éªŒè¯äº¤æ¢ç©ºé—´æ˜¯å¦å¯ç”¨ # # æŸ¥çœ‹äº¤æ¢æ–‡ä»¶æ˜¯å¦å·²æ¿€æ´» sudo swapon --show # æŸ¥çœ‹ç³»ç»Ÿå†…å­˜å’Œäº¤æ¢ä½¿ç”¨æƒ…å†µ free -h ä½ åº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š\n$ sudo swapon --show NAME TYPE SIZE USED PRIO /swap/swapfile file 6G 0B -2 $ free -h æ€»è®¡ å·²ç”¨ ç©ºé—² å…±äº« ç¼“å†²/ç¼“å­˜ å¯ç”¨ å†…å­˜ï¼š 15Gi 6.3Gi 621Mi 1.3Gi 9.5Gi 9.0Gi äº¤æ¢ï¼š 6.0Gi 0B 6.0Gi 2.3 è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½ swapfile # # ç¼–è¾‘ fstab æ–‡ä»¶ sudo nano /etc/fstab # åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ è¿™ä¸€è¡Œï¼š /swap/swapfile none swap sw 0 0 é‡å¯åéªŒè¯äº¤æ¢æ–‡ä»¶æ˜¯å¦è‡ªåŠ¨å¯ç”¨ï¼š\n# æŸ¥çœ‹äº¤æ¢æ–‡ä»¶æ˜¯å¦å·²æ¿€æ´» sudo swapon --show # æŸ¥çœ‹ç³»ç»Ÿå†…å­˜å’Œäº¤æ¢ä½¿ç”¨æƒ…å†µ free -h ä½ åº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š\n$ sudo swapon --show NAME TYPE SIZE USED PRIO /swap/swapfile file 6G 0B -2 $ free -h æ€»è®¡ å·²ç”¨ ç©ºé—² å…±äº« ç¼“å†²/ç¼“å­˜ å¯ç”¨ å†…å­˜ï¼š 15Gi 6.3Gi 621Mi 1.3Gi 9.5Gi 9.0Gi äº¤æ¢ï¼š 6.0Gi 0B 6.0Gi â€\n","date":"2025-8-7","externalUrl":null,"permalink":"/posts/btrfs%E4%B8%8B%E4%B8%8D%E6%98%BE%E7%A4%BAtimeshift%E5%88%9B%E5%BB%BA%E7%9A%84%E5%BF%AB%E7%85%A7%E5%88%9B%E5%BB%BA%E5%BF%AB%E7%85%A7%E5%A4%B1%E8%B4%A5/","section":"Posts","summary":"","title":"btrfsä¸‹ä¸æ˜¾ç¤ºtimeshiftåˆ›å»ºçš„å¿«ç…§ï¼åˆ›å»ºå¿«ç…§å¤±è´¥","type":"posts"},{"content":" å‘ç°é—®é¢˜ # $ sudo timeshift --list #åˆ—å‡ºå¿«ç…§ [Warning] Deleted invalid lock Mounted \u0026#39;/dev/nvme0n1p6\u0026#39; at \u0026#39;/run/timeshift/47565/backup\u0026#39; btrfs: Quotas are not enabled Device : /dev/nvme0n1p6 UUID : da4fd0a6-78d7-464c-8e24-b38ee2d483b7 Path : /run/timeshift/47565/backup Mode : BTRFS Status : OK 3 snapshots, 9.9 GB free Num Name Tags Description ------------------------------------------------------------------------------ 0 \u0026gt; 2025-08-05_22-44-05 O Before restoring \u0026#39;2025-08-05 10:18 ä¸‹åˆ\u0026#39; 1 \u0026gt; 2025-08-07_14-31-24 B H D W M 2 \u0026gt; 2025-08-07_15-08-42 O H æˆ‘æ— æ³•åˆ é™¤çš„å¿«ç…§æ˜¯ 2025-08-05_22-44-05ï¼Œå°è¯•ç”¨å‘½ä»¤è¡Œåˆ ä¸€ä¸‹\n$ sudo timeshift --delete --snapshot 2025-08-05_22-44-05 î‚² âœ” Mounted \u0026#39;/dev/nvme0n1p6\u0026#39; at \u0026#39;/run/timeshift/46581/backup\u0026#39; btrfs: Quotas are not enabled ------------------------------------------------------------------------------ Removing snapshot: 2025-08-05_22-44-05 Deleting subvolume: @ (Id:309) E: ERROR: Could not destroy subvolume/snapshot: Directory not empty E: Failed to delete snapshot subvolume: \u0026#39;/run/timeshift/46581/backup/timeshift-btrfs/snapshots/2025-08-05_22-44-05/@\u0026#39; E: Failed to remove snapshot: 2025-08-05_22-44-05 åˆ é™¤å¤±è´¥äº†ã€‚è§‚å¯Ÿåˆ°å¿«ç…§æ–‡ä»¶åœ¨ /run/timeshift/47326/backup/timeshift-btrfs/snapshots/2025-08-05_22-44-05/ï¼Œå’±çœ‹ä¸€ä¸‹è¿™ä¸ªç›®å½•\n$ ls -la \u0026#34;/run/timeshift/47326/backup/timeshift-btrfs/snapshots/2025-08-05_22-44-05/\u0026#34; ls: æ— æ³•è®¿é—® \u0026#39;/run/timeshift/47326/backup/timeshift-btrfs/snapshots/2025-08-05_22-44-05/\u0026#39;: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½• å¥½å®¶ä¼™ï¼Œç›®å½•ä¸å­˜åœ¨\né—®é¢˜å‘ç°äº†ï¼šå¿«ç…§ç›®å½•åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­å·²ç»ä¸å­˜åœ¨äº†ï¼Œä½†æ˜¯ Timeshift ä»ç„¶è®¤ä¸ºå®ƒå­˜åœ¨ã€‚è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ Timeshift çŠ¶æ€ä¸å®é™…æ–‡ä»¶ç³»ç»Ÿä¸ä¸€è‡´çš„é—®é¢˜ã€‚è¿™è¯´æ˜ Timeshift çš„å†…éƒ¨æ•°æ®åº“ä¸å®é™…æ–‡ä»¶ç³»ç»ŸçŠ¶æ€ä¸åŒæ­¥ã€‚\nè§£å†³é—®é¢˜ # ä½¿ç”¨ sudo timeshift --listï¼š\næŸ¥çœ‹ Device å­—æ®µï¼ˆæ¯ä¸ªäººçš„éƒ½ä¸ä¸€æ ·ï¼‰ï¼šDevice : /dev/nvme0n1p6 â€‹\næŸ¥çœ‹æƒ³è¦åˆ é™¤çš„å¿«ç…§çš„ NAME å­—æ®µï¼ˆæ¯ä¸ªäººçš„éƒ½ä¸ä¸€æ ·ï¼‰ï¼š2025-08-05_22-44-05 â€‹\n# æ‰‹åŠ¨æŒ‚è½½åˆ° /mnt $ sudo mount /dev/nvme0n1p6 /mnt # æ£€æŸ¥å®é™…å­˜åœ¨çš„å¿«ç…§ $ ls -la /mnt/timeshift-btrfs/snapshots/ æ€»è®¡ 0 drwxr-xr-x 1 root root 114 8æœˆ 7æ—¥ 16:00 . drwxr-xr-x 1 root root 210 8æœˆ 7æ—¥ 16:00 .. drwxr-xr-x 1 root root 32 8æœˆ 7æ—¥ 16:39 2025-08-05_22-44-05 drwxr-xr-x 1 root root 20 8æœˆ 7æ—¥ 15:00 2025-08-07_14-31-24 drwxr-xr-x 1 root root 20 8æœˆ 7æ—¥ 16:00 2025-08-07_15-08-42 # åˆ é™¤ä¸å­˜åœ¨çš„å¿«ç…§æ¡ç›® sudo rm -rf /mnt/timeshift-btrfs/snapshots/2025-08-05_22-44-05 2\u0026gt;/dev/null # æ£€æŸ¥æ˜¯å¦åˆ é™¤ $ ls -la /mnt/timeshift-btrfs/snapshots/ æ€»è®¡ 0 drwxr-xr-x 1 root root 76 8æœˆ 7æ—¥ 16:45 . drwxr-xr-x 1 root root 210 8æœˆ 7æ—¥ 16:00 .. drwxr-xr-x 1 root root 20 8æœˆ 7æ—¥ 15:00 2025-08-07_14-31-24 drwxr-xr-x 1 root root 20 8æœˆ 7æ—¥ 16:00 2025-08-07_15-08-42 # `2025-08-05_22-44-05`æ²¡æœ‰äº†ï¼åˆ äº†ï¼ # å¸è½½ sudo umount /mnt â€\n","date":"2025-8-7","externalUrl":null,"permalink":"/posts/timeshift%E6%97%A0%E6%B3%95%E5%88%A0%E9%99%A4%E5%BF%AB%E7%85%A7/","section":"Posts","summary":"","title":"timeshiftæ— æ³•åˆ é™¤å¿«ç…§","type":"posts"},{"content":"éƒ½æ˜¯æˆ‘æŠ˜è…¾ winapps æ—¶é‡åˆ°çš„é—®é¢˜ï¼Œè´¹äº†ä¸‰æ•´å¤©æ‰æ…¢æ…¢è§£å†³ï¼Œæ•…åˆ†äº«å‡ºæ¥è®©å¤§å®¶å°‘è¸©å‘ã€‚\n1. 1. RDP èŠ±è´¹çš„è¿æ¥æ—¶é—´å¤ªé•¿ï¼Œå¯¼è‡´è„šæœ¬è¶…æ—¶ # 1.1 ç‰¹ç‚¹ # è¿è¡Œ 50 ç§’æ‰å¯åŠ¨\n$ xfreerdp3 /u:\u0026#34;Administrator\u0026#34; /p:\u0026#34;1\u0026#34; /v:192.168.122.122 /cert:tofu [08:48:09:871] [26120:0000660b] [WARN][com.freerdp.client.x11] - [load_map_from_xkbfile]: : keycode: 0x08 -\u0026gt; no RDP scancode found [08:48:09:871] [26120:0000660b] [WARN][com.freerdp.client.x11] - [load_map_from_xkbfile]: ZEHA: keycode: 0x5D -\u0026gt; no RDP scancode found [08:48:09:893] [26120:0000660b] [WARN][com.freerdp.crypto] - [verify_cb]: Certificate verification failure \u0026#39;self-signed certificate (18)\u0026#39; at stack position 0 [08:48:09:893] [26120:0000660b] [WARN][com.freerdp.crypto] - [verify_cb]: CN = DESKTOP-G8N9MT9 [08:48:32:930] [26120:0000660b] [ERROR][com.winpr.sspi.Kerberos] - [kerberos_AcquireCredentialsHandleA]: krb5glue_get_init_creds (Cannot contact any KDC for realm \u0026#39;ATHENA.MIT.EDU\u0026#39; [-1765328228]) [08:48:55:956] [26120:0000660b] [ERROR][com.winpr.sspi.Kerberos] - [kerberos_AcquireCredentialsHandleA]: krb5glue_get_init_creds (Cannot contact any KDC for realm \u0026#39;ATHENA.MIT.EDU\u0026#39; [-1765328228]) [08:48:55:967] [26120:0000660b] [WARN][com.freerdp.core.connection] - [rdp_client_connect_auto_detect]: expected messageChannelId=1008, got 1003 [08:48:55:967] [26120:0000660b] [WARN][com.freerdp.core.license] - [license_read_binary_blob_data]: license binary blob::type BB_ERROR_BLOB, length=0, skipping. [08:48:55:992] [26120:0000660b] [WARN][com.freerdp.core.connection] - [rdp_client_connect_auto_detect]: expected messageChannelId=1008, got 1003 [08:48:55:999] [26120:0000660b] [INFO][com.freerdp.gdi] - [gdi_init_ex]: Local framebuffer format PIXEL_FORMAT_BGRX32 [08:48:55:999] [26120:0000660b] [INFO][com.freerdp.gdi] - [gdi_init_ex]: Remote framebuffer format PIXEL_FORMAT_BGRA32 [08:48:55:000] [26120:0000660b] [INFO][com.freerdp.channels.rdpsnd.client] - [rdpsnd_load_device_plugin]: [static] Loaded fake backend for rdpsnd [08:48:55:000] [26120:0000660b] [INFO][com.freerdp.channels.drdynvc.client] - [dvcman_load_addin]: Loading Dynamic Virtual Channel ainput [08:48:55:000] [26120:0000660b] [INFO][com.freerdp.channels.drdynvc.client] - [dvcman_load_addin]: Loading Dynamic Virtual Channel rdpgfx [08:48:55:001] [26120:0000660b] [INFO][com.freerdp.channels.drdynvc.client] - [dvcman_load_addin]: Loading Dynamic Virtual Channel disp [08:48:55:001] [26120:0000660b] [INFO][com.freerdp.channels.drdynvc.client] - [dvcman_load_addin]: Loading Dynamic Virtual Channel rdpsnd [08:48:55:123] [26120:000066fe] [INFO][com.freerdp.channels.rdpsnd.client] - [rdpsnd_load_device_plugin]: [dynamic] Loaded fake backend for rdpsnd [08:48:56:947] [26120:000066fe] [WARN][com.freerdp.channels.drdynvc.client] - [check_open_close_receive]: {Microsoft::Windows::RDS::DisplayControl:9} OnOpen=(nil), OnClose=0x7f02c8b5ecc0 [08:48:56:965] [26120:000066fe] [INFO][com.freerdp.channels.rdpsnd.client] - [rdpsnd_load_device_plugin]: [dynamic] Loaded fake backend for rdpsnd [08:48:58:969] [26120:000066fe] [WARN][com.freerdp.channels.drdynvc.client] - [check_open_close_receive]: {Microsoft::Windows::RDS::DisplayControl:9} OnOpen=(nil), OnClose=0x7f02c8b5ecc0 [08:48:58:979] [26120:00006608] [ERROR][com.freerdp.core] - [freerdp_abort_connect_context]: ERRCONNECT_CONNECT_CANCELLED [0x0002000B] 1.2 é—®é¢˜åˆ†æ # æ—¥å¿—ä¸­çš„å…³é”®é”™è¯¯ï¼š\n[ERROR][com.winpr.sspi.Kerberos] - [kerberos_AcquireCredentialsHandleA]: krb5glue_get_init_creds (Cannot contact any KDC for realm \u0026#39;ATHENA.MIT.EDU\u0026#39; [-1765328228]) FreeRDP è¯•å›¾ä½¿ç”¨ Kerberos è®¤è¯ï¼Œä½†æ— æ³•è”ç³»åˆ°åŸŸæ§åˆ¶å™¨ï¼Œå¯¼è‡´å¤šæ¬¡è¶…æ—¶é‡è¯•ã€‚\n1.3 è§£å†³æ–¹æ¡ˆ # æ˜ç¡®æŒ‡å®šæœ¬åœ°è®¤è¯\n1.3.1 å¯¹äºæµ‹è¯•RDP çš„å‘½ä»¤ # ä¿®æ”¹æˆï¼š\nxfreerdp3 /u:\u0026#34;Administrator\u0026#34; /p:\u0026#34;1\u0026#34; /v:192.168.122.122 /cert:tofu /d:WORKGROUP 1.3.2 å¯¹äºå®‰è£…è„šæœ¬çš„è¶…æ—¶å¤±è´¥ # é€šè¿‡é˜…è¯»å®‰è£…è„šæœ¬ï¼Œå‘ç° /d: å‚æ•°ç”± RDP_DOMAIN å†³å®š\nå¯¹åº”åˆ° ~/.config/winapps/winapps.conf ä¸Šï¼Œä¹Ÿå°±æ˜¯ä¿®æ”¹æˆï¼š\n# [WINDOWS DOMAIN] # DEFAULT VALUE: \u0026#39;\u0026#39; (BLANK) RDP_DOMAIN=\u0026#34;WORKGROUP\u0026#34; 1.4 å¤‡æ³¨ # 1.4.1 å…³äº AI # å¤§éƒ¨åˆ† AIï¼ˆDeepSeek Qwenï¼‰ä¼šç»™å‡º xfreerdp3 /u:\u0026quot;Administrator\u0026quot; /p:\u0026quot;1\u0026quot; /v:192.168.122.122 /cert:tofu /sec:rdp æˆ–è€… xfreerdp3 /u:\u0026quot;Administrator\u0026quot; /p:\u0026quot;1\u0026quot; /v:192.168.122.122 /cert:tofu /auth-only:ntlm ä¸€ä¸ªå‘½ä»¤ä¼šæŠ¥é”™ï¼Œä¸€ä¸ªä»ç„¶éœ€è¦ç­‰å¾…å¤§é‡æ—¶é—´\nè¿˜æ˜¯ Claude ç‰›é€¼ï¼Œè™½ç„¶ä»ç„¶ç»™å‡ºä¸Šé¢çš„é”™è¯¯æŒ‡ä»¤ï¼Œä½†æ˜¯ä¹Ÿç»™å‡ºäº†æ­£ç¡®æ–¹æ¡ˆ xfreerdp3 /u:\u0026quot;Administrator\u0026quot; /p:\u0026quot;1\u0026quot; /v:192.168.122.122 /cert:tofu /d:WORKGROUP â€‹\n1.4.2 Claude ç»™å‡ºçš„å…¶ä»–æ–¹æ¡ˆï¼ˆä¸çŸ¥é“æ˜¯å¦å¯è¡Œï¼‰ # åœ¨ Windows è™šæ‹Ÿæœºä¸­ï¼š\næ‰“å¼€\u0026quot;ç»„ç­–ç•¥ç¼–è¾‘å™¨\u0026quot; (gpedit. Msc) å¯¼èˆªåˆ°ï¼šè®¡ç®—æœºé…ç½® â†’ ç®¡ç†æ¨¡æ¿ â†’ Windows ç»„ä»¶ â†’ è¿œç¨‹æ¡Œé¢æœåŠ¡ â†’ è¿œç¨‹æ¡Œé¢ä¼šè¯ä¸»æœº â†’ å®‰å…¨ ç¦ç”¨\u0026quot;è¦æ±‚ä½¿ç”¨ç½‘ç»œçº§åˆ«èº«ä»½éªŒè¯å¯¹è¿œç¨‹è¿æ¥çš„ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯\u0026quot; æˆ–è€…ç›´æ¥ cmd å‘½ä»¤ï¼š\nreg add \u0026#34;HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp\u0026#34; /v UserAuthentication /t REG_DWORD /d 0 2. ä¸­æ–‡æ— æ³•è¾“å…¥ # 2.1 ç‰¹ç‚¹ # æ— æ³•æ˜¾ç¤ºè¾“å…¥æ³•å€™é€‰è¯çª—å£\n2.2 åŸå› \u0026amp;è§£å†³æ–¹æ¡ˆ # WindowsåŸç”Ÿè¾“å…¥æ³•å…¼å®¹æ€§ä¸å¥½ã€‚å»ºè®®æ¢ä¸ºå¾®ä¿¡è¾“å…¥æ³•ï¼Œç™¾åº¦è¾“å…¥æ³•ç­‰\nWindows å¼€æœºååœ¨ winapps è¿æ¥å‰ä½¿ç”¨äº†å…¶ä»–è¿æ¥ï¼ˆKVM çš„ã€æµ‹è¯•RDP æ—¶çš„ï¼‰ï¼Œå¯¼è‡´è¾“å…¥æ³•å€™é€‰è¯çª—å£è·‘åˆ°å…¶ä»–è¿æ¥ä¸Šæ²¡å›æ¥ï¼ˆæˆ‘æ˜¯è¿™æ ·ç†è§£çš„ï¼‰ã€‚ä¸€èˆ¬é‡å¯å¯è§£å†³\n3. ä¸­æ–‡è¾“å…¥ä¹±ç  # 3.1 ç‰¹ç‚¹ # æŒ‰é”®æ˜ å°„é”™è¯¯ï¼š\nç±»ä¼¼è¿™æ ·\næ‰“å¼€è®°äº‹æœ¬ï¼Œè¾“å…¥ qwï¼Œç»“æœè®°äº‹æœ¬ä¸Šçš„å†…å®¹ä¸ºâ€‹s'dâ€‹ï¼Œå€™é€‰è¯ä¸ºâ€œä¸Šçš„â€ åŒç†ï¼ŒBackspace, Delete ç­‰æŒ‰é”®ä¹Ÿæ˜ å°„å¼‚å¸¸ï¼Œå¯¼è‡´æ— æ³•é€€æ ¼åˆ é™¤ç­‰ è‹±æ–‡å°±èƒ½æ­£å¸¸è¾“å…¥ 3.2 åŸå› \u0026amp;è§£å†³æ–¹æ¡ˆ # ä½ è¢« README çš„ä¸€å¥è¯éª—äº†ï¼š\n3.2.1 Step 3: Create a WinApps Configuration File ç¬¬ 3 æ­¥ï¼šåˆ›å»º WinApps é…ç½®æ–‡ä»¶ # \u0026hellip;\u0026hellip;\n3.2.1.1 Configuration Options Explained # \u0026hellip;\u0026hellip;\u0026hellip; To enable non-English input and seamless language switching, you can try adding **â€‹/kbd:unicodeâ€‹**â€‹ to **â€‹RDP_FLAGSâ€‹**â€‹ . This ensures client inputs are sent as Unicode sequences. \u0026hellip;\u0026hellip; é‡Œé¢çš„\nTo enable non-English input and seamless language switching, you can try adding â€‹ /kbd:unicode â€‹â€‹ to â€‹ RDP_FLAGS â€‹â€‹ . This ensures client inputs are sent as Unicode sequences.\nä¸ºäº†å¯ç”¨éè‹±è¯­è¾“å…¥å¹¶å®ç°æ— ç¼çš„è¯­è¨€åˆ‡æ¢ï¼Œæ‚¨å¯ä»¥å°è¯•åœ¨ /kbd:unicode æ·»åŠ åˆ° RDP_FLAGS ä¸­ã€‚è¿™ç¡®ä¿å®¢æˆ·ç«¯è¾“å…¥ä»¥ Unicode åºåˆ—å‘é€ã€‚\nå°±æ˜¯å®ƒå¹²çš„ï¼ä¸è¦åŠ  /kbd:unicodeï¼è¡€çš„æ•™è®­ï¼\næ˜æ˜æ˜¯\nTo enable prevent non-English input and seamless difficult language switching, you can try adding /kbd:unicode to RDP_FLAGS. This ensures client inputs are sent as Unicode sequences garbled.\nä¸ºäº†å¯ç”¨â€‹é˜»æ­¢éè‹±è¯­è¾“å…¥å¹¶å®ç°æ— ç¼â€‹å›°éš¾çš„è¯­è¨€åˆ‡æ¢ï¼Œæ‚¨å¯ä»¥å°è¯•åœ¨ /kbd:unicode æ·»åŠ åˆ° RDP_FLAGS ä¸­ã€‚è¿™ç¡®ä¿å®¢æˆ·ç«¯è¾“å…¥ä»¥ Unicode åºåˆ—â€‹ä¹±ç å‘é€ã€‚\nå¯èƒ½å¯¹å…¶ä»–è¯­è¨€æœ‰ç”¨ï¼Œå¯¹ä¸­æ–‡è¿˜æ˜¯ç®—äº†å§\n4. å·²ç»è¢«æˆ‘ä¿®å¤ å¾…å®˜æ–¹ä¿®å¤ æ²¡è§£å†³ çš„é—®é¢˜ # æ³¨ï¼šå·²ç»â€‹**æäº¤äº†PR**â€‹ **ï¼Œ**â€‹~~ç­‰å¾…å®˜æ–¹ä¿®å¤ ing\u0026hellip;~~ å·²åˆå¹¶ï¼ŒBUGå·²ä¿®å¤\n4.1 å‘ç°é—®é¢˜ # ç›´æ¥åŒå‡»æ‰“å¼€æ–‡ä»¶ï¼ˆæ–‡ä»¶æŒ‚è½½åœ¨ /run/media/s/æ¾æœUç›˜/DeepSeek.pptxï¼‰\nå›¾ 1 ä½†æ˜¯ç”¨â‘ é€‰æ‹©æ–‡ä»¶æ‰“å¼€ï¼Œæ­£å¸¸ã€‚ä¹‹åç›´æ¥ç‚¹â‘¡ä¹Ÿèƒ½ç›´æ¥æ‰“å¼€ã€‚\nå¥‡äº†æ€ªäº†\nå›¾ 2 4.2 åˆ†æé—®é¢˜ # ä»”ç»†è§‚å¯Ÿå‘ç°ï¼š\nå›¾ä¸€çš„è·¯å¾„æ˜¯ \\\\tsclient\\media\\æ¾æœUç›˜\\DeepSeek.pptx â€‹\nå›¾äºŒçš„è·¯å¾„æ˜¯ \\\\tsclient\\media\\s\\æ¾æœUç›˜\\DeepSeek.pptx â€‹\nä¹Ÿå°±æ˜¯è¯´ï¼Œwinapps å¯åŠ¨çš„æ—¶å€™æŒ‚è½½çš„æ˜¯ \\\\tsclient\\media\\s\\æ¾æœUç›˜\\, ä½†æ˜¯å¯åŠ¨ PowerPoint çš„å‘½ä»¤è¡Œå´æŒ‡å‘äº† \\\\tsclient\\media\\æ¾æœUç›˜\\ï¼Œå¯¼è‡´ PowerPoint æ‰¾ä¸åˆ°æ–‡ä»¶\nèŠ±äº†ä¸€æ™šä¸Šæ—¶é—´ï¼Œå‘ç°æ˜¯ ~/.local/bin/winapps çš„æ­£åˆ™åŒ¹é…æœ‰é—®é¢˜\nç¬¬ 668 è¡Œçš„ -e 's|\u0026lt;sup\u0026gt;('\u0026quot;${REMOVABLE_MEDIA//|/\\|}\u0026quot;')/[\u0026lt;/sup\u0026gt;/]*|\\\\\\\\tsclient\\\\media|' \\ â€‹\nåº”è¯¥æ”¹æˆ -e 's|^'\u0026quot;${REMOVABLE_MEDIA}\u0026quot;'|\\\\\\\\tsclient\\\\media|' \\ â€‹\nå·²ç»â€‹**æäº¤äº†PR**â€‹ **ï¼Œ**â€‹~~ç­‰å¾…å®˜æ–¹ä¿®å¤ ing\u0026hellip;~~ å·²åˆå¹¶\n4.3 è§£å†³é—®é¢˜ # ç¼–è¾‘ ~/.local/bin/winappsï¼ŒæŠŠç¬¬ 668 è¡Œæ”¹æˆï¼š\n-e \u0026#39;s|^\u0026#39;\u0026#34;${REMOVABLE_MEDIA}\u0026#34;\u0026#39;|\\\\\\\\tsclient\\\\media|\u0026#39; \\ å¤§åŠŸå‘Šæˆï¼\n","date":"2025-8-6","externalUrl":null,"permalink":"/posts/%E6%88%91%E9%81%87%E5%88%B0%E7%9A%84winapps%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","section":"Posts","summary":"","title":"æˆ‘é‡åˆ°çš„winappsé—®é¢˜\u0026è§£å†³æ–¹æ¡ˆ","type":"posts"},{"content":" 1. Btrfs å‹ç¼© # 1.1 å®æ–½æ­¥éª¤ï¼š # ä¿®æ”¹ â€‹ /etc/fstab â€‹ï¼š\nUUID=da4fd0a6-78d7-464c-8e24-b38ee2d483b7 / btrfs subvol=/@,defaults,compress=zstd:3 0 0 UUID=da4fd0a6-78d7-464c-8e24-b38ee2d483b7 /home btrfs subvol=/@home,defaults,compress=zstd:3 0 0 UUID=da4fd0a6-78d7-464c-8e24-b38ee2d483b7 /var/cache btrfs subvol=/@cache,defaults,compress=zstd:1 0 0 UUID=da4fd0a6-78d7-464c-8e24-b38ee2d483b7 /var/log btrfs subvol=/@log,defaults,compress=zstd:2 0 0 é‡æ–°æŒ‚è½½æ‰€æœ‰åˆ†åŒºï¼š\n# é‡æ–°åŠ è½½ systemd é…ç½® sudo systemctl daemon-reload # ç„¶åå†é‡æ–°æŒ‚è½½ sudo mount -o remount,compress=zstd:3 / sudo mount -o remount,compress=zstd:3 /home sudo mount -o remount,compress=zstd:1 /var/cache sudo mount -o remount,compress=zstd:2 /var/log é‡æ–°å‹ç¼©ç°æœ‰æ•°æ®ï¼ˆå¯é€‰ï¼Œéœ€è¦ä¸€äº›æ—¶é—´ï¼‰ï¼š\n#åœ¨ defragment å‘½ä»¤ä¸­ï¼Œå‹ç¼©å‚æ•°çš„è¯­æ³•ä¸åŒã€‚ sudo btrfs filesystem defragment -r -v -czstd / # æ³¨æ„è¿™é‡Œåªéœ€è¦æŒ‡å®šç®—æ³•ï¼Œä¸éœ€è¦çº§åˆ« sudo btrfs filesystem defragment -r -v -czstd /home sudo btrfs filesystem defragment -r -v -czstd /var/cache sudo btrfs filesystem defragment -r -v -czstd /var/log 2. ç©ºé—´å ç”¨å˜å¤§ï¼š # 2.1 é—®é¢˜åˆ†æï¼š # sudo btrfs filesystem usage / Data éƒ¨åˆ† Data,single å˜å¤§\n2.2 è§£å†³æ–¹æ¡ˆï¼š # è¿™ç§æƒ…å†µé€šå¸¸æ˜¯ç”±äºé‡æ–°å‹ç¼©è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ç¢ç‰‡æˆ–è€…ç©ºé—´åˆ†é…ä¸å‡é€ æˆçš„ã€‚éœ€è¦æ‰§è¡Œå¹³è¡¡æ“ä½œæ¥é‡æ–°æ•´ç†æ•°æ®ï¼š\n# æ‰§è¡Œå¹³è¡¡æ¥ä¼˜åŒ–ç©ºé—´ä½¿ç”¨ sudo btrfs balance start -dusage=50 / # å¦‚æœä¸Šé¢çš„å®Œæˆï¼Œå¯ä»¥å†æ‰§è¡Œæ›´å½»åº•çš„å¹³è¡¡(æ›´æœ‰æ•ˆ) sudo btrfs balance start / # ç›‘æ§å¹³è¡¡è¿›åº¦ sudo btrfs balance status / # äº”ç§’ä¸€æŸ¥ watch -n 5 \u0026#39;sudo btrfs balance status /\u0026#39; é‡å¯å°±å¥½äº†\næˆ–è€…è¯•è¯•åˆ é™¤å¿«ç…§\n","date":"2025-8-5","externalUrl":null,"permalink":"/posts/btrfs%E5%8E%8B%E7%BC%A9%E7%A9%BA%E9%97%B4%E5%8D%A0%E7%94%A8%E5%8F%98%E5%A4%A7/","section":"Posts","summary":"","title":"btrfså‹ç¼©ã€ç©ºé—´å ç”¨å˜å¤§","type":"posts"},{"content":" 1. ç‰¹ç‚¹ # $ sudo swapon /swapfile swapon: /swapfileï¼šswapon å¤±è´¥: æ— æ•ˆçš„å‚æ•° æˆ–è€… swapon: swapfile: swapon failed: Invalid argument 2. åŸå›  # åœ¨Btrfsä¸Šå»ºç«‹äº¤æ¢æ–‡ä»¶éœ€è¦è®¾ç½® No_COW å±æ€§ + ç¦ç”¨å‹ç¼©\n3. è§£å†³æ–¹æ¡ˆ # âš ï¸æ³¨æ„ï¼š\nåœ¨ btrfs ä¸‹ï¼Œåˆ›å»ºswap æ–‡ä»¶è€Œä¸æ˜¯ swap åˆ†åŒºæ—¶ï¼š\næŠŠ swap æ–‡ä»¶æ”¾åˆ°â€‹ â€‹ /swap â€‹â€‹å­å·ä¸­ï¼š å› ä¸º timeshift ä¸ä¼šå¤‡ä»½ /swap å­å·ï¼Œå¯¼è‡´æ¢å¤å¿«ç…§æ—¶ï¼Œswap æ–‡ä»¶ /swap/swapfile ä¼šæ¶ˆå¤±\nä¸æŠŠ swap æ–‡ä»¶æ”¾åˆ°å­å·ä¸­ï¼š timeshift å¤‡ä»½æ—¶ï¼Œswapfile è¢«å†…æ ¸ä½¿ç”¨ï¼Œä¼šå¯¼è‡´ E: ERROR: Could not create subvolume: Text file busyï¼Œå¯¼è‡´æ— æ³•åˆ›å»ºå¿«ç…§ (å‚è€ƒæ¥æº)\næœ€ä½³å®è·µå¯èƒ½æ˜¯åˆ›å»º swap åˆ†åŒºè€Œä¸æ˜¯swap æ–‡ä»¶\næˆ–è€…ä»ç„¶æŠŠ swap æ–‡ä»¶æ”¾åˆ°â€‹ â€‹ /swap â€‹â€‹å­å·ä¸­ï¼Œtimeshift æ¢å¤å¿«ç…§åï¼Œæ‰‹åŠ¨æŠŠ /swap ç›®å½•åˆ æ‰ã€æŠŠåŸæ¥çš„ /swap å­å·ç§»åŠ¨è¿‡æ¥\nä»¥ä¸‹æ˜¯åˆ›å»º swap æ–‡ä»¶+ä¸æŠŠ swap æ–‡ä»¶æ”¾åˆ°å­å·ä¸­çš„æ–¹æ¡ˆï¼ˆåˆ›å»º swap åˆ†åŒºçš„æ–¹æ³•ç½‘ä¸Šä¸€æœä¸€å¤§æŠŠï¼Œå°±ä¸å†™äº†ï¼‰ï¼š\n3.1 é”™è¯¯ç¤ºèŒƒï¼š # $ sudo truncate -s 6G /swapfile # åˆ›å»ºä¸€ä¸ª6Gå¤§å°çš„æ–‡ä»¶ $ sudo chattr +C /swapfile # è®¾ç½®No_COWå±æ€§ $ sudo btrfs property set /swapfile compression none # ç¦ç”¨å‹ç¼© $ sudo chmod 600 /swapfile # è®¾ç½®swapfileæƒé™ $ sudo mkswap /swapfile # æ ¼å¼åŒ–swapfile mkswap: /swapfile åŒ…å«ç©ºæ´æˆ–è€…å…¶å®ƒä¸æ”¯æŒçš„æ‰©å±•ã€‚ æ­¤äº¤æ¢æ–‡ä»¶å¯èƒ½ä¼šåœ¨å¯ç”¨æ—¶è¢«å†…æ ¸æ‹’ç»ï¼ ä½¿ç”¨ --verbose æ˜¾ç¤ºæ›´å¤šç»†èŠ‚ã€‚ æ­£åœ¨è®¾ç½®äº¤æ¢ç©ºé—´ç‰ˆæœ¬ 1ï¼Œå¤§å° = 6 GiB (6442446848 ä¸ªå­—èŠ‚) æ— æ ‡ç­¾ï¼ŒUUID=0c11bd0e-061e-419f-88b9-b13504f612c4 $ sudo swapon /swapfile # å¯ç”¨swapfile swapon: /swapfileï¼šå°†è·³è¿‡ - å®ƒä¼¼ä¹æœ‰ç©ºæ´ã€‚ $ é”™è¯¯è¡Œä¸ºï¼šå…ˆå†™å…¥ 6 Gï¼Œå†è®¾ç½® No_COW å±æ€§ + ç¦ç”¨å‹ç¼©\nâŒè¿™æ ·ä¸è¡Œï¼Œ6 G å†…å®¹è¢«å‹ç¼©äº†\nçƒ­å¿ƒç½‘å‹çš„æé†’ï¼ˆåœ¨è¯„è®ºåŒºï¼‰ï¼š\nâš ï¸æ³¨æ„\nbtrfs æ–‡ä»¶ç³»ç»Ÿç© swapfileï¼Œå¦‚æœè¿˜æƒ³ç”¨ timeshift æˆ–è€… snapper å¤‡ä»½å¿«ç…§ï¼Œå°±å¿…é¡»æŠŠ swap æ–‡ä»¶æ”¾åˆ°ä¸éœ€è¦å¤‡ä»½çš„å­å·é‡Œé¢ï¼ˆæ¯”å¦‚åˆ›å»º @swap å­å·ï¼‰ã€‚ ä¸ç„¶çš„è¯ï¼Œå¦‚æœç›´æ¥æ”¾åœ¨éœ€è¦å¿«ç…§çš„å­å·ï¼Œä¼šåœ¨åˆ›å»ºå¿«ç…§çš„æ—¶å€™ä¼šå¤±è´¥ï¼ˆæç¤ºè®¾å¤‡æ­£åœ¨è¢«å†™å…¥å•¥çš„/ åœ¨ timeshift GUI ä¸Šä¸æ˜¾ç¤ºåˆ›å»ºçš„å¿«ç…§ï¼‰ è¦æ˜¯åƒæˆ‘ä¸€æ ·ï¼Œå“ªå¤©éœ€è¦æ¢å¤å¿«ç…§äº†ï¼Œçªç„¶å‘ç°ä¸€ä¸ªå¿«ç…§éƒ½æ²¡å»ºå‡ºæ¥å°±æç¬‘äº†\u0026hellip;\u0026hellip;\nè®¾ç½®å­å·çš„ swap åˆ›å»ºæˆ‘ä¼šæ”¾åœ¨å¦ä¸€ä¸ªåšå®¢é‡Œé¢\nå¦‚æœä½ è¦ç”¨åˆ° timeshift ç­‰ btrfs å¿«ç…§ï¼ˆå¤§æ¦‚ç‡ä½ ä¼šç”¨åˆ°ï¼‰ï¼Œå°±å»é‚£ä¸ªåšå®¢é‡Œé¢çœ‹ï¼\nåšå®¢åœ°å€ï¼šhttps://www.cnblogs.com/sunong/p/19026935.html\n3.2 æ­£ç¡®ç¤ºèŒƒï¼ˆä¸è®¾ç½®å­å·ï¼‰ # âš ï¸å†æ¬¡æé†’ï¼šå¦‚æœä½ è¦ç”¨åˆ° timeshift ç­‰ btrfs å¿«ç…§ï¼ˆå¤§æ¦‚ç‡ä½ ä¼šç”¨åˆ°ï¼‰ï¼Œå°±å»é‚£ä¸ªåšå®¢é‡Œé¢çœ‹ï¼\n# åˆ›å»ºä¸€ä¸ª0å¤§å°çš„æ–‡ä»¶ sudo truncate -s 0 /swapfile # è®¾ç½®No_COWå±æ€§ sudo chattr +C /swapfile # ç¦ç”¨å‹ç¼© sudo btrfs property set /swapfile compression none ERROR: failed to set compression for /swapfile: Invalid argument #ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä¸è¿‡ä¸å½±å“ # å°†æ–‡ä»¶å¡«å……ã€æ‰©å®¹ sudo dd if=/dev/zero of=/swapfile bs=1G count=6 # è®¾ç½®swapfileæƒé™ sudo chmod 600 /swapfile # æ ¼å¼åŒ–swapfile sudo mkswap /swapfile # å¯ç”¨swapfile sudo swapon /swapfile 3.3 éªŒè¯äº¤æ¢ç©ºé—´æ˜¯å¦å¯ç”¨ # # æŸ¥çœ‹äº¤æ¢æ–‡ä»¶æ˜¯å¦å·²æ¿€æ´» sudo swapon --show # æŸ¥çœ‹ç³»ç»Ÿå†…å­˜å’Œäº¤æ¢ä½¿ç”¨æƒ…å†µ free -h ä½ åº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š\n$ sudo swapon --show NAME TYPE SIZE USED PRIO /swap/swapfile file 6G 0B -2 $ free -h æ€»è®¡ å·²ç”¨ ç©ºé—² å…±äº« ç¼“å†²/ç¼“å­˜ å¯ç”¨ å†…å­˜ï¼š 15Gi 6.3Gi 621Mi 1.3Gi 9.5Gi 9.0Gi äº¤æ¢ï¼š 6.0Gi 0B 6.0Gi 3.4 è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½ swapfile # # ç¼–è¾‘ fstab æ–‡ä»¶ sudo nano /etc/fstab # åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ è¿™ä¸€è¡Œï¼š /swapfile none swap sw 0 0 é‡å¯åéªŒè¯äº¤æ¢æ–‡ä»¶æ˜¯å¦è‡ªåŠ¨å¯ç”¨ï¼š\n# æŸ¥çœ‹äº¤æ¢æ–‡ä»¶æ˜¯å¦å·²æ¿€æ´» sudo swapon --show # æŸ¥çœ‹ç³»ç»Ÿå†…å­˜å’Œäº¤æ¢ä½¿ç”¨æƒ…å†µ free -h ä½ åº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š\n$ sudo swapon --show NAME TYPE SIZE USED PRIO /swapfile file 6G 0B -2 $ free -h æ€»è®¡ å·²ç”¨ ç©ºé—² å…±äº« ç¼“å†²/ç¼“å­˜ å¯ç”¨ å†…å­˜ï¼š 15Gi 6.3Gi 621Mi 1.3Gi 9.5Gi 9.0Gi äº¤æ¢ï¼š 6.0Gi 0B 6.0Gi â€\n","date":"2025-8-5","externalUrl":null,"permalink":"/posts/swapon-%E5%A4%B1%E8%B4%A5%E6%97%A0%E6%95%88%E7%9A%84%E5%8F%82%E6%95%B0-%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/","section":"Posts","summary":"","title":"swapon å¤±è´¥ï¼šæ— æ•ˆçš„å‚æ•° çš„è§£å†³æ–¹æ³•","type":"posts"},{"content":" 1. å‰æ™¯æè¦ # é¦–å…ˆï¼ŒKDE æœ‰è¿™ä¸ªç•Œé¢\nä½†æ˜¯ç”¨è¿‡å°±ä¼šçŸ¥é“ï¼Œå³ä½¿ä½ éƒ½å‹¾é€‰ä¸Šäº†ï¼Œå®ƒç…§æ ·ä¸ä¼šå¼€æœºè‡ªåŠ¨æŒ‚è½½\nforum.ubuntu.com.cn/viewtopic.php?t=50539 æåŠäº†è¿™ä¸ªé—®é¢˜ï¼Œè™½ç„¶æ²¡æœ‰æåˆ°æ²»æœ¬çš„è§£å†³æ–¹æ³•ï¼Œä½†æ˜¯ä¸€ä¸ªå“¥ä»¬æé†’äº†æˆ‘ï¼š\nè°ƒæŸ¥å‘ç°æ˜¯ uudisksctl mount -b xxxx è¿™ä¸ªå‘½ä»¤éœ€è¦ rootï¼Œè€Œ KDE ä¼¼ä¹æ²¡æœ‰è¿™ä¸ªæƒé™ï¼Œä¹Ÿä¸ä¼šå¼¹çª—ç´¢è¦ï¼Œå¯¼è‡´éƒ¨åˆ†åˆ†åŒºï¼ˆå¯èƒ½åªé™ä¸å¯ç§»åŠ¨ç¡¬ç›˜ä¸Šçš„NTFS åˆ†åŒºï¼‰æ— æ³•å¼€æœºè‡ªåŠ¨æŒ‚è½½\n2. è§£å†³æ–¹æ¡ˆ # 2.1 æ¢ä¸€ç§æ–¹å¼æŒ‚è½½ï¼ˆçœå¿ƒï¼‰ # å¸¸è§æ–¹æ³•æœ‰ï¼ˆDeepseek ç»™çš„ï¼‰ï¼š\né€šè¿‡ /etc/fstab é…ç½® ä½¿ç”¨ systemd è‡ªåŠ¨æŒ‚è½½ ä½¿ç”¨ pmount å·¥å…· 2.2 è®© udisksctl mount -b xxxx è¿™ç±»å‘½ä»¤æ— éœ€ root æƒé™æ‰§è¡Œ # 2.2.1 å¤±è´¥çš„æ–¹æ¡ˆ # æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥ä¸è¡Œï¼Œç½‘ä¸Šæœçš„éƒ½è¿™æ ·å¹²\nå°†ç”¨æˆ·åŠ å…¥ storage ç”¨æˆ·ç»„ sudo usermod -aG storage $(whoami) # å°†å½“å‰ç”¨æˆ·åŠ å…¥ storage ç»„ éªŒè¯ç»„æ˜¯å¦ç”Ÿæ•ˆï¼šè¿è¡Œ groups å‘½ä»¤ï¼Œæ£€æŸ¥è¾“å‡ºæ˜¯å¦åŒ…å« storageã€‚\næ³¨é”€å¹¶é‡æ–°ç™»å½•ä½¿ç»„æƒé™ç”Ÿæ•ˆ\n2.2.2 å¯è¡Œçš„æ–¹æ¡ˆï¼šé…ç½® PolicyKit è§„åˆ™ï¼ˆæ¨èï¼‰ # åˆ›å»º PolicyKit è§„åˆ™æ–‡ä»¶ï¼š sudo nano /etc/polkit-1/rules.d/50-udisks2.rules æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š // å…è®¸æ‰€æœ‰ç”¨æˆ·æŒ‚è½½/å¸è½½å—è®¾å¤‡ polkit.addRule(function(action, subject) { if (action.id == \u0026#34;org.freedesktop.udisks2.filesystem-mount\u0026#34; || action.id == \u0026#34;org.freedesktop.udisks2.filesystem-unmount\u0026#34;) { return polkit.Result.YES; } }); æˆ–è€…ä¸‹é¢è¿™ä¸ªï¼ˆæ²¡è¯•è¿‡ï¼‰ï¼š\n// æ›´ç²¾ç»†çš„æ§åˆ¶ï¼Œåªå…è®¸ç‰¹å®šç”¨æˆ·ç»„ polkit.addRule(function(action, subject) { if ((action.id == \u0026#34;org.freedesktop.udisks2.filesystem-mount\u0026#34; || action.id == \u0026#34;org.freedesktop.udisks2.filesystem-unmount\u0026#34;) \u0026amp;\u0026amp; subject.isInGroup(\u0026#34;plugdev\u0026#34;)) { return polkit.Result.YES; } }); é‡å¯ä»¥åå°±èƒ½å‘ç°åˆ†åŒºè¢«è‡ªåŠ¨æŒ‚è½½äº†ï¼\nâ€\n","date":"2025-8-4","externalUrl":null,"permalink":"/posts/%E8%AE%A9kde%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD%E5%90%84%E4%B8%AA%E5%88%86%E5%8C%BA/","section":"Posts","summary":"","title":"è®©KDEè‡ªåŠ¨æŒ‚è½½å„ä¸ªåˆ†åŒº","type":"posts"},{"content":" 1. ç‰¹ç‚¹ # linuxmint (ubuntu) ï¼š\nå¼€æœºé»‘å±ã€‚åˆ‡åˆ°é«˜çº§è®¾ç½®è¿›å…¥ï¼Œå¡åœ¨ loading initial ramdisk ç•Œé¢ï¼›ä½†æ˜¯å¯ä»¥è¿›å…¥é«˜çº§è®¾ç½®-recovery modeï¼Œåœ¨é‡Œé¢é€‰æ‹© resume å¯ä»¥è¿›å…¥ç³»ç»Ÿã€‚\nManjaro (arch) ï¼š\nå®‰è£…å®Œç³»ç»Ÿå¼€æœºå°±é»‘å±ï¼Œrecovery mode è¿›ä¸å»\nopensuseï¼š\nå®‰è£…å®Œç³»ç»Ÿå¼€æœºå°±é»‘å±ï¼Œå…¶ä»–æœªçŸ¥\nä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼š\nåœ¨ grub ä¸­ï¼Œå¯¹ç€å¯åŠ¨é¡¹æŒ‰ä¸‹ eï¼Œæ‰¾åˆ°ä»¥ linux /boot/vmlinuz... å¼€å¤´çš„è¡Œï¼Œåœ¨è¡Œå°¾æ·»åŠ  dis_ucode_ldr å¯ä»¥å¼€æœº\n2. åŸå›  # Intel å¾®ä»£ç ï¼ˆMicrocodeï¼‰æ›´æ–°ä¸å†…æ ¸æˆ–ç¡¬ä»¶å…¼å®¹æ€§å†²çª\n3. è§£å†³æ–¹æ³• # 3.1 æ–¹æ³• 1ï¼šæ”¹ grubï¼ˆæ²»æ ‡ä¸æ²»æœ¬ï¼Œä¸è¿‡æ‰€æœ‰ linux éƒ½å¯ä»¥ç”¨ï¼‰ï¼š # ç¼–è¾‘ GRUB é…ç½®æ–‡ä»¶ï¼š sudo nano /etc/default/grub åœ¨â€‹â€‹ GRUB_CMDLINE_LINUX â€‹â€‹ä¸­æ·»åŠ ç¦ç”¨å‚æ•°ï¼š\næ‰¾åˆ°ä»¥ GRUB_CMDLINE_LINUX= å¼€å¤´çš„è¡Œï¼Œåœ¨å¼•å·å†…æ·»åŠ  dis_ucode_ldr å‚æ•°ï¼š GRUB_CMDLINE_LINUX=\u0026#34;...åŸæœ‰å‚æ•°... dis_ucode_ldr\u0026#34; ç¤ºä¾‹ï¼ˆä¿®æ”¹åå¯èƒ½ç±»ä¼¼è¿™æ ·ï¼‰ï¼š\nGRUB_CMDLINE_LINUX=\u0026#34;quiet splash dis_ucode_ldr\u0026#34; ä¿å­˜å¹¶æ›´æ–° GRUBï¼š\næŒ‰ Ctrl+X â†’ è¾“å…¥ Y â†’ å›è½¦ä¿å­˜æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œï¼š sudo update-grub é‡å¯ç³»ç»Ÿï¼š sudo reboot 3.2 æ–¹æ³• 2ï¼šç¦æ­¢å¾®ä»£ç é›†æˆåˆ° initramfsï¼ˆlinuxmint å¯è¡Œã€Manjaro ä¸å¯è¡Œï¼‰ # è‹¥é™çº§æ— æ•ˆï¼Œéœ€å½»åº•é˜»æ­¢å¾®ä»£ç è¢«åŠ è½½åˆ°åˆå§‹å†…å­˜ç›˜ï¼š\nç¼–è¾‘å¾®ä»£ç é…ç½®æ–‡ä»¶ï¼š sudo nano /etc/default/intel-microcode ä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š IUCODE_TOOL_INITRAMFS=no é‡æ–°ç”Ÿæˆ initramfsï¼š sudo update-initramfs -u # Ubuntu/Debian sudo dracut -f # Fedora/openSUSE 3.3 æ–¹æ³• 3ï¼šé™çº§ Intel å¾®ä»£ç ï¼ˆæ²¡è¯•è¿‡ï¼‰ # è¿›å…¥ Recovery Mode é€‰æ‹© resume è¿›å…¥ç³»ç»Ÿã€‚ æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æ—§ç‰ˆå¾®ä»£ç åŒ…ï¼š sudo apt install intel-microcode=3.20180312.0~ubuntu18.04.1 # Ubuntu 18.04 ç¤ºä¾‹ç‰ˆæœ¬ 3.4 è¯•è¿‡æ²¡ç”¨çš„æ–¹æ³•ï¼ˆåˆ«çœ‹è¿™ä¸ªï¼ŒManjaro æ²¡ç”¨ï¼‰ # åœ¨ Arch Linux ä¸­é˜»æ­¢ Intel å¾®ä»£ç æ‰“åŒ…åˆ° initramfsï¼Œé€šè¿‡é…ç½® mkinitcpio å·¥å…·å®ç°ã€‚\nç§»é™¤ â€‹ microcode â€‹â€‹ é’©å­\nç¼–è¾‘ /etc/mkinitcpio.confï¼š sudo nano /etc/mkinitcpio.conf åœ¨ HOOKS è¡Œä¸­æ‰¾åˆ° microcode å¹¶å°†å…¶åˆ é™¤ã€‚ä¾‹å¦‚ä¿®æ”¹å‰ï¼š HOOKS=(base systemd autodetect microcode modconf kms keyboard sd-vconsole block filesystems fsck) ä¿®æ”¹åï¼š\nHOOKS=(base systemd autodetect modconf kms keyboard sd-vconsole block filesystems fsck) ä¿å­˜æ–‡ä»¶ï¼ˆCtrl+O â†’ Enter â†’ Ctrl+Xï¼‰ã€‚ é‡æ–°ç”Ÿæˆ initramfs\næ‰§è¡Œä»¥ä¸‹å‘½ä»¤åº”ç”¨æ›´æ”¹ï¼š\nsudo mkinitcpio -P æ­¤å‘½ä»¤ä¼šä¸ºæ‰€æœ‰å·²å®‰è£…çš„å†…æ ¸é‡æ–°ç”Ÿæˆ initramfs é•œåƒï¼ˆå¦‚ initramfs-linux.imgï¼‰ï¼Œä¸å†åŒ…å«å¾®ä»£ç ã€‚\néªŒè¯æ˜¯å¦ç”Ÿæ•ˆ\næ£€æŸ¥ç”Ÿæˆçš„ initramfs å†…å®¹ï¼š lsinitcpio /boot/initramfs-linux.img | grep -i microcode è‹¥è¾“å‡ºä¸­æ—  intel-ucode.img ç­‰å¾®ä»£ç æ–‡ä»¶ï¼Œåˆ™è¡¨ç¤ºå·²æˆåŠŸç§»é™¤ã€‚\n4. âš ï¸ä¸è¦ç›´æ¥åˆ é™¤â€‹â€‹ intel_ucode â€‹â€‹åŒ… # 4.1 å¦‚æœå·²ç»åˆ äº† # å¼€æœºä¼šæç¤ºç¼ºå¤±â€‹â€‹ ucode.img â€‹â€‹è“å±ï¼ˆManjaroï¼‰\n4.1.1 åŸå›  # å¸è½½ intel-ucode åï¼Œ/boot/intel-ucode.img æ–‡ä»¶è¢«åˆ é™¤ã€‚ ä½† GRUB é…ç½®æœªæ›´æ–°ï¼Œä»åŒ…å«å¯¹è¯¥æ–‡ä»¶çš„å¼•ç”¨ï¼Œå¯¼è‡´å¼•å¯¼æ—¶å› æ–‡ä»¶ç¼ºå¤±è€Œå´©æºƒã€‚ 4.1.2 è§£å†³æ–¹æ¡ˆï¼šæ›´æ–° GRUB é…ç½®ï¼ˆæ²¡è¯•è¿‡ï¼Œæ¥è‡ª DeepSeekï¼‰ # éœ€æ‰‹åŠ¨ç§»é™¤å¯¹ intel-ucode.img çš„ä¾èµ–ï¼Œå¹¶é‡æ–°ç”Ÿæˆå¼•å¯¼æ–‡ä»¶ï¼š\nä½¿ç”¨ Arch Linux å®‰è£…ä»‹è´¨å¯åŠ¨\nä» USB å®‰è£…ç›˜å¯åŠ¨ï¼Œé€‰æ‹© â€œTroubleshootingâ€ â†’ â€œBoot Arch Linuxâ€ è¿›å…¥ä¸´æ—¶ç³»ç»Ÿã€‚ æŒ‚è½½åŸç³»ç»Ÿåˆ†åŒº\nå‡è®¾æ ¹åˆ†åŒºä¸º /dev/nvme0n1p2ï¼ŒEFI åˆ†åŒºä¸º /dev/nvme0n1p1ï¼š mount /dev/nvme0n1p2 /mnt # æŒ‚è½½æ ¹åˆ†åŒº mount /dev/nvme0n1p1 /mnt/boot # æŒ‚è½½ EFI åˆ†åŒº arch-chroot /mnt # åˆ‡æ¢åˆ°åŸç³»ç»Ÿç¯å¢ƒ ä¿®æ”¹ GRUB é…ç½®æ–‡ä»¶\nç¼–è¾‘ /boot/grub/grub.cfg æˆ–é‡æ–°ç”Ÿæˆé…ç½®ï¼š æ–¹æ³• 1ï¼šé‡æ–°ç”Ÿæˆ GRUB é…ç½®ï¼ˆæ¨èï¼‰ grub-mkconfig -o /boot/grub/grub.cfg # è‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„ ucode å¼•ç”¨ æ–¹æ³• 2ï¼šæ‰‹åŠ¨ç¼–è¾‘ï¼ˆè‹¥è‡ªåŠ¨ç”Ÿæˆæ— æ•ˆï¼‰\næ‰¾åˆ°æ‰€æœ‰åŒ…å« initrd /boot/intel-ucode.img çš„è¡Œï¼Œåˆ é™¤è¯¥éƒ¨åˆ†ï¼Œä»…ä¿ç•™å¯¹ initramfs çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼š\nåŸå†…å®¹ï¼š initrd /boot/intel-ucode.img /boot/initramfs-linux.img ä¿®æ”¹ä¸ºï¼š\ninitrd /boot/initramfs-linux.img é€€å‡ºå¹¶é‡å¯ exit umount -R /mnt reboot 4.2 å¯èƒ½çš„æ­£ç¡®åˆ é™¤æ–¹æ³• # è‹¥ä½ åšæŒå¸è½½å¾®ç ï¼ˆä¸€èˆ¬ä¸æ¨èï¼Œé™¤éç¡®å®š CPU æ— éœ€æ›´æ–°ï¼‰ï¼Œéœ€ç¡®ä¿å½»åº•æ¸…ç†ï¼š\nå¸è½½åŒ…å¹¶æ¸…é™¤æ®‹ç•™ sudo pacman -Rns intel-ucode # å¸è½½å¹¶åˆ é™¤ä¾èµ–é…ç½® sudo rm /boot/intel-ucode.img # ç¡®ä¿æ–‡ä»¶è¢«åˆ é™¤ é‡å»º initramfsï¼ˆéƒ¨åˆ†å†…æ ¸éœ€æ­¤æ­¥éª¤ï¼‰ sudo mkinitcpio -P # é‡æ–°ç”Ÿæˆ initramfsï¼Œé¿å…ä¾èµ–å¾®ç  ","date":"2025-8-3","externalUrl":null,"permalink":"/posts/linux%E5%BC%80%E6%9C%BA%E9%BB%91%E5%B1%8F%E7%9A%84%E4%B8%80%E7%A7%8D%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/","section":"Posts","summary":"","title":"linuxå¼€æœºé»‘å±çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ","type":"posts"},{"content":"","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"}]